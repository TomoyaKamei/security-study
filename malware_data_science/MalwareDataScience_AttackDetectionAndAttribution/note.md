# マルウェアデータサイエンス ～サイバー攻撃の検出と分析～

## 第0章 はじめに
### はじめに
- セキュリティ業界はデータサイエンスを取り入れつつある。
    - e.g. アンチウィルス製品、ファイヤーウォールベンダ、SIEMソフトウェアなど

### データサイエンスとは何か
- **データサイエンス**とは、統計学・数学・データ可視化を使ってデータを理解し、予測を行う事が可能なアルゴリズムベースのツールの集まりの事である。
- また、データサイエンスは**機械学習**・**データマイニング**・**データ可視化**の三つの要素で構成される。

### データサイエンスは何故セキュリティに取って重要か
- データサイエンスとセキュリティの親和性が高い理由は、3つ存在する。
    1. セキュリティにおいてはデータが全てである。
        - e.g. ファイル、ログ、ネットワークパケット
    2. インターネット上でのサイバー攻撃の数が劇的に増加しており、従来の検知方法では効率が悪くなりつつある。
    3. データサイエンスがセキュリティ業界の内外において技術的なトレンドになっている。

### マルウェアへのデータサイエンスの応用
- **マルウェア**は、悪意を持って書かれた実行プログラムと定義される。
- 本書では、セキュリティデータサイエンスの特定の応用に的を絞る事で、主要なセキュリティ問題にデータサイエンスをどのように応用すれば良いのかを説明したい。


## 第1章 マルウェア
### 概要
- 本章では静的解析の基礎に取り組む。
- 静的解析とは、プログラムを実行せずにプログラムの内容を理解しようとする試みの事である。

### Microsoft WindowsのPEフォーマット
- Windows PE(Portable Executable)は、以下の目的で設計された。
    1. プログラムをメモリに読み込む方法をWindowsに教える。
    2. プログラムが実行中に使用する可能性があるメディア(またはリソース)を提供する。
    3. デジタルコード署名といったセキュリティデータを提供する。

- PEファイルのファイル構造は以下の通りである。
    - **PEヘッダ**
        - プログラムの一般的な属性を定義する。
            - e.g. バイナリコード、画像、圧縮データ...
    - **オプションヘッダ**
        - PEファイル内のプログラムのエントリポイントの場所を定義する。
        - エントリポイントは、プログラムがロードされた後に最初に実行する命令を指す。
        - その他にPEファイルのロード時にWindowsがメモリに読み込むデータのサイズ、Windowsサブシステム、プログラムターゲットなどの詳細定義も行う。
    - **セクションヘッダ**
        - セクションとは、OSがプログラムをロードする時にメモリにマッピングされるデータブロックの事である。
        - セクションヘッダが、そのセクションが読み取り・書き込み・実行を可能にすべきかが明らかになる。
    - **.textセクション**
        - 多くの場合、textセクションがプログラムコードが記載されたセクションとなる。
    - **.idataセクション**
        - DLLのインポートアドレステーブルが含まれている。
    - **データセクション**
        - .rsrc、.data、.rdataセクションが含まれている。
        - これらのセクションには、マウスカーソル画像・ボタンスキン・オーディオなどプログラムによって使用されるその他のメディアが格納される。
    - **.relocセクション**
        - PEバイナリのコードは、メモリないの意図された位置から新しい位置へ移動された場合は正しく実行されなくなる。
        - メモリアドレスのオフセットを増減させる事で、コードを移動しても問題なく実行させるようにOS側に実行させる。

### pefileを使ってPEフォーマットを分析する
### マルウェアの画像を調べる
### マルウェアの文字列を調べる
### まとめ

## 調査
## 参照
